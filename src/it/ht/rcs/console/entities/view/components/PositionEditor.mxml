<?xml version="1.0" encoding="utf-8"?>
<s:VGroup xmlns:fx="http://ns.adobe.com/mxml/2009" 
         xmlns:s="library://ns.adobe.com/flex/spark" 
         xmlns:mx="library://ns.adobe.com/flex/mx" width="420" horizontalAlign="center">
<fx:Script>
  <![CDATA[
    
    import com.google.maps.services.ClientGeocoder;
    import com.google.maps.services.GeocodingEvent;
    
    import locale.R;
    
    private function resolve():void
    {
      //https://developers.google.com/maps/documentation/flash/services#Geocoding_Object
      var geocoder:ClientGeocoder = new ClientGeocoder();
      geocoder.addEventListener(GeocodingEvent.GEOCODING_SUCCESS, handleGeocodingSuccess);
      geocoder.addEventListener(GeocodingEvent.GEOCODING_FAILURE, handleGeocodingFailure);
      geocoder.geocode(addressTxt.text);
    }
    
    private function handleGeocodingSuccess(e:GeocodingEvent):void
    {
      trace("solved")
    }
    
    private function handleGeocodingFailure(e:GeocodingEvent):void
    {
      trace("unsolved")
    }
    
  ]]>
</fx:Script>
  <s:BorderContainer width="400"
                     height="300"
                     borderAlpha="1"
                     borderColor="0x666666"
                     backgroundColor="0xCCCCCC"
                     backgroundAlpha="0.3">
    <maps:Map xmlns:maps="com.google.maps.*"
              id="map"
              width="100%"
              height="100%"
              key="ABQIAAAA8fmTpYQsyimBWFWKgeE9PBRhMg83CBLwD9y4vh6Mu8HzQS3H_RRayLm54B1SF17x6N9sYwYVwJV_FQ"
              url="http://www.hackingteam.it/"
              sensor="false"
              accessibilityDescription=""
              />
    <!-- trick to disbale map -->
    <!--    <s:BorderContainer width="100%"
    height="100%"
    borderAlpha="0"
    backgroundColor="0xFFFFFF"
    backgroundAlpha="0.5"
    />-->
  </s:BorderContainer>
  <s:Form>
    <s:FormItem label="{R.get('ADDRESS')}">
      <s:TextInput id="addressTxt" width="250"/>
    </s:FormItem>
    <s:FormItem label="{R.get('LATITUDE')}">
      <s:TextInput id="latTxt" width="250"/>
    </s:FormItem>
    <s:FormItem label="{R.get('LONGITUDE')}">
      <s:TextInput id="longTxt" width="250"/>
    </s:FormItem>
    <s:FormItem label="{R.get('ACCURACY')}">
      <s:TextInput id="accuracyTxt" width="250"/>
    </s:FormItem>
  </s:Form>
  <s:Button label="Find!" click="resolve()"/>
 </s:VGroup>

