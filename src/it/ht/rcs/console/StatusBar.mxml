<?xml version="1.0" encoding="utf-8"?>
<s:Group xmlns:fx="http://ns.adobe.com/mxml/2009" 
         xmlns:s="library://ns.adobe.com/flex/spark" 
         xmlns:mx="library://ns.adobe.com/flex/mx" width="100%" creationComplete="{init()}">
  <fx:Script>
    <![CDATA[
      [Bindable]
      public static var clockstring:String;
      
      private function init():void
      {
        // first time
        updateClock(null);
        // every second update the UTC clock
        var clock:Timer = new Timer(1000);
        clock.addEventListener(TimerEvent.TIMER, updateClock);
        clock.start();
      }
      
      private function updateClock(evt:TimerEvent):void 
      {
        var date: Date = new Date();
        var date_utc: Date = new Date(date.fullYearUTC, date.monthUTC, date.dateUTC, date.hoursUTC, date.minutesUTC, date.secondsUTC);
        
        clockstring = clockFormatter.format(date_utc);
      }
      
    ]]>
  </fx:Script>
  <s:layout>
    <s:HorizontalLayout/>
  </s:layout>
  <fx:Declarations>
    <mx:DateFormatter id="clockFormatter" formatString="UTC: YYYY-MM-DD JJ:NN:SS" />
  </fx:Declarations>
    <s:Label text="user@server" paddingLeft="10"/>
  
    <!-- TODO: download manager here... -->
  
    <s:HGroup width="100%" horizontalAlign="right" paddingRight="12">
      <s:Label text="{clockstring}" color="#454545"/>
    </s:HGroup>
</s:Group>
