<?xml version="1.0" encoding="utf-8"?>
<s:Panel xmlns:fx="http://ns.adobe.com/mxml/2009" 
         xmlns:s="library://ns.adobe.com/flex/spark" 
         xmlns:mx="library://ns.adobe.com/flex/mx"
         title="ALERTING" width="100%" height="100%" 
         xmlns:alerting="it.ht.rcs.console.monitor.*"
         addedToStage="added()"
         removedFromStage="removed()"
         creationComplete="init()">

  <fx:Script>
    <![CDATA[
      import it.ht.rcs.console.alert.controller.AlertManager;
      
      import mx.collections.ListCollectionView;
      import mx.collections.Sort;
      import mx.collections.SortField;
      
      [Bindable]
      private var _alert_view:ListCollectionView;
      
      private function init():void
      {
        /* default sorting: status */
        var sort:Sort = new Sort();
        sort.fields = [new SortField('status', true, true, true)];
        
        _alert_view = AlertManager.instance.getView(sort);
      }
      
      private function added():void
      {
        /* start the auto refresh when the section is open */
        AlertManager.instance.start();
      }
      
      private function removed():void
      {
        /* stop the auto refresh when going away */
        AlertManager.instance.stop();
      }
    ]]>
  </fx:Script>
  
  <fx:Metadata>
    [ResourceBundle("localized_main")] 
  </fx:Metadata>
  
  
</s:Panel>
